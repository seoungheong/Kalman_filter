# 칼만 필터

## 칼만 필터(Kalman filter)

> ![image](https://user-images.githubusercontent.com/65435447/163186886-3b2919df-7a58-4c67-b1e6-b3f53b87d60f.png)

> 1단계
> 추정값과 오차 공분산 예측: 2~4단계에서 사용할 x, P를 게산한다.

> 2단계
> 칼만 이득 계산: 앞의 P를 사용하여 연산한다. H, R은 칼만 필터 알고리즘 밖에서 미리 결정된는 값이다.

> 3단계
> 추정값 계산: 입력된 측정값으로 추정값을 계산한다.

> 4단계
> 오차 공분산 계산: 주정값이 얼마나 정확한지를 알려주는 척도로 사용된다. 오차 공분산을 검토해서 앞서 계산한 추정값을 믿고 쓸지 아니면 버릴지를 판단한다.

> ![image](https://user-images.githubusercontent.com/65435447/163316737-dcffb131-d155-4b82-9fbf-4610dd7b6d05.png)

크게 2가지로 구분이 가능하다.
> #### 예측과정
> : 1단계가 여기에 해당한다. 직전 추정값, 오차 공분산이 입력되면 최종 결과로 예측값을 내놓는다. 이값들은 추정 과정에 사용된다.

> #### 추정과정
> : 2~4 단계가 여기에 해당된다. A, Q를 기초로 다음 시각에 상태와 오차 공분산이 어떤 값이 될지를 예측 -> 측정값과 예측값 차이를 보정해서 새로운 추정값을 계산 이 추정값이 칼만 필터의 최종 결과물입니다. 위 과정을 반복합니다. 
